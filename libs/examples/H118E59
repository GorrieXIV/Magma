"Source: Text/Geometry/Scheme.text";
"Line: 7366";
"Date: Wed Jun  8 17:42:16 2016";
"Main: Mon May 30 13:40:42 2016";
// original file: Text/Geometry/Scheme.text, line: 7366
// Example: H118E59 ()
print "Example: H118E59";
ei := GetEchoInput();
SetEchoInput(true);
SetSeed(1);
P<x,y,z> := ProjectiveSpace(Rationals(),2);    
L := LinearSystem(P,6);
p1 := P ! [1,0,0];
p2 := P ! [0,1,0];
p3 := P ! [0,0,1];
p4 := P ! [1,1,1];
L1 := LinearSystem(L,p1,3);
L2 := LinearSystem(L1,p2,3);
L3 := LinearSystem(L2,p3,3);
L4 := LinearSystem(L3,p4,2);
#Sections(L4);
assert $1 eq 7;
C := Curve(P,&+[ Random([1,2,3])*s : s in Sections(L4) ]);
IsIrreducible(C);
assert $1;
Genus(C);
assert $1 eq 0;
p5 := P ! [2,1,1];
L5 := LinearSystem(L4,P![2,1,1]);
C := Curve(P,&+[ Random([1,2,3])*s : s in Sections(L5) ]);
IsIrreducible(C); 
assert $1;
Genus(C);
assert $1 eq 0;
L<u,v> := ProjectiveSpace(Rationals(),1);
phi := Parametrization(C, Place(C!p5), Curve(L));
Ideal(Image(phi)) eq Ideal(C);
assert $1;
A<x,y> := AffineSpace(FiniteField(2),2);
L := LinearSystem(A,2);
L;
k1<w> := ext< BaseRing(A) | 2> ;
p := A(k1) ! [1,w];
p;
LinearSystem(L,p);
k2<v> := ext< BaseRing(A) | 3> ;
q := A(k2) ! [1,v];
LinearSystem(L,q);
SetEchoInput(ei);
