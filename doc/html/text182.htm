<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel='stylesheet' href='help.css' type='text/css'>
  <TITLE>Introduction</TITLE>
</head>
<body BGCOLOR="#FFFFFF">

 <A  HREF = "text183.htm">[Next]</A><A  HREF = "text181.htm">[Prev]</A> <A  HREF = "text183.htm">[Right]</A> [____] <A  HREF = "text181.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<PRE></PRE><H3><A NAME = "1485">Introduction</A></H3>

<P>
<P>
This online help node and the nodes below it describe
functions relating to the field of rational numbers Q.
Note that most functions for rational integers are classified as integer functions.
<P>
The rational field Q is automatically created when Magma is started up.
That means that in Q, unlike most other structures,
arithmetic can be done without the need to create the structure
explicitly first. The same is true for the ring of integers.
<P>
In order to be compatible with the other rings and fields, 
<TT>Q.1</TT> will return 1.



<H5>Subsections</H5>
<UL>
<LI> <A  HREF = "text182.htm#1486">Representation</A>
<LI> <A  HREF = "text182.htm#1487">Coercion</A>
<LI> <A  HREF = "text182.htm#1489">Homomorphisms</A>
</UL>
<H4><A NAME = "1486">Representation</A></H4>

<P>
<P>
Rational numbers are stored as pairs of numerator and denominator.
Whenever a rational number is created, it will be put in reduced form
(coprime numerator and denominator, positive denominator). It is well
possible that a rational number has denominator 1, and thus represents
a rational integer; in such cases it will however never
automatically be converted into an integer (that is, its type
will not be changed).


<H4><A NAME = "1487">Coercion</A></H4>

<P>
<P>
As a general rule, automatic coercion occurs between
elements of Q and elements of any ring R of characteristic 0. 
That means, for example, that addition of any rational number
and an element r of such ring can be performed without the need
to coerce the elements first; the result will be in the larger of
Q and R (usually R, unless R is a subring of Q such as Z).
The most important exceptions to the above rule are those cases
where the result would lie in a structure strictly larger than both
Q and R. Examples of this are R=Z[x], and the result would
generally be in Q(x), and R=O<sub>K</sub>, an order in a number field
(and the result could be in K).


<HR>
<H3><A NAME = "1488">Example <TT>FldRat_Coercion (H20E1)</TT></A></H3>
We give three examples of successful automatic coercion, and one where
it does not work. Note that in the third case the result, although
being integral, is still in the rational field.
<P>
<P>
<PRE>
&gt; 1/2 + elt&lt; CyclotomicField(3) | 1,2&gt;;  
1/2*(4*zeta_3 + 3)
&gt; 1/2 - 0.12345;
0.37655
&gt; 1/2 * 2;
1
&gt; Parent(1/2 * 2);
Rational Field
&gt; R&lt;x&gt; := PolynomialRing(Integers());
&gt; // The following produces an error:
&gt; 1/2 + x;

&gt;&gt; 1/2 + x;
       ^
Runtime error in '+': Bad argument types
</PRE>
<HR>
<H4><A NAME = "1489">Homomorphisms</A></H4>

<P>
<P>
Since homomorphisms are generally only allowed to be unitary, the
specification of ring homomorphisms from Q=Q to a ring R is particularly
simple: the image is completely determined by the image of 1, which
we require to be 1 in R, so 


<H5>hom&lt; Q -&gt; R | &gt; : FldHom, Rng -&gt; Map</H5><P>

suffices.
<P>
Note that Magma allows the user to define maps with <TT>hom</TT> that are
not proper homomorphisms; this is sometimes useful, as the example below
shows.

<HR>
<H3><A NAME = "1490">Example <TT>FldRat_homomorphism (H20E2)</TT></A></H3>
Suppose we wish to coerce rational numbers with denominator not
divisible by 11 into the ring Z/11Z in the obvious way by
sending r/s to rs<sup> - 1</sup> mod 11. The coercion rules do not allow
you to do so using <TT>!</TT>, but a simple `homomorphism' will work.
<P>
<P>
<PRE>
&gt; Z11 := Integers(11);
&gt; Q := RationalField();
&gt; h := hom&lt; Q -&gt; Z11 | &gt;;
&gt; h(1/2);
6
</PRE>
<HR>
<PRE></PRE> <A  HREF = "text183.htm">[Next]</A><A  HREF = "text181.htm">[Prev]</A> <A  HREF = "text183.htm">[Right]</A> [____] <A  HREF = "text181.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<br><small>Version: V2.22 of <I>
Thu Jun  9 16:37:49 EST 2016
</I></small>
</body></html>