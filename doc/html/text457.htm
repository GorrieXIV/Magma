<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel='stylesheet' href='help.css' type='text/css'>
  <TITLE>Differentials</TITLE>
</head>
<body BGCOLOR="#FFFFFF">

 <A  HREF = "text458.htm">[Next]</A><A  HREF = "text456.htm">[Prev]</A> <A  HREF = "text458.htm">[Right]</A> <A  HREF = "text456.htm">[Left]</A> <A  HREF = "text442.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<PRE></PRE><H3><A NAME = "5003">Differentials</A></H3>

<P>
<P>
<P>
Spaces of differentials of function fields can be created and the 
differentials belonging to them manipulated. Divisors can be created
from differentials and modules generated by a collection of differentials
can be formed.



<H5>Subsections</H5>
<UL>
<LI> <A  HREF = "text457.htm#5004">Creation of Structures</A>
<LI> <A  HREF = "text457.htm#5006">Creation of Elements</A>
<LI> <A  HREF = "text457.htm#5010">Related Structures</A>
<LI> <A  HREF = "text457.htm#5013">Subspaces</A>
<LI> <A  HREF = "text457.htm#5019">Structure Predicates</A>
<LI> <A  HREF = "text457.htm#5021">Operations on Elements</A>
</UL>
<H4><A NAME = "5004">Creation of Structures</A></H4>



<H5><A NAME = "5005">DifferentialSpace(F) : FldFunG -&gt; DiffFun</A></H5>
<BLOCKQUOTE>
The space of differentials of the algebraic function field F/k.
</BLOCKQUOTE>
<H4><A NAME = "5006">Creation of Elements</A></H4>

<P>
<P>
<P>
The simplest ways of creating a differential are given below.


<H5><A NAME = "5007">Differential(a) : FldFunGElt -&gt; DiffFunElt</A></H5>
<H5>Differential(a) : RngFunOrdElt -&gt; DiffFunElt</H5>
<BLOCKQUOTE>
Create the differential d(a) of the function field or order element a.
</BLOCKQUOTE>
<H5><A NAME = "5008">Identity(D) : DiffFun -&gt; DiffFunElt</A></H5>
<H5>Id(D) : DiffFun -&gt; DiffFunElt</H5>
<BLOCKQUOTE>
The identity differential of the space of differentials D.
</BLOCKQUOTE>
<H5><A NAME = "5009">IsCanonical(D) : DivFunElt -&gt; BoolElt, DiffFunElt</A></H5>
<BLOCKQUOTE>
Returns <TT>true</TT> iff the divisor D is canonical and a differential having
D as its divisor.
</BLOCKQUOTE>
<H4><A NAME = "5010">Related Structures</A></H4>



<H5><A NAME = "5011">FunctionField(D) : DiffFun -&gt; FldFun</A></H5>
<BLOCKQUOTE>
The function field of the differentials in the space D.
</BLOCKQUOTE>
<H5><A NAME = "5012">FunctionField(d) : DiffFunElt -&gt; FldFun</A></H5>
<BLOCKQUOTE>
The function field of the differential d.
</BLOCKQUOTE>
<H4><A NAME = "5013">Subspaces</A></H4>



<H5><A NAME = "5014">SpaceOfDifferentialsFirstKind(F) : FldFunG -&gt; ModFld, Map</A></H5>
<H5>SpaceOfHolomorphicDifferentials(F) : FldFunG -&gt; ModFld, Map</H5>
<BLOCKQUOTE>
A vector space and the isomorphism from this space to the space of
differentials of the first kind (holomorphic differentials) of the
function field F/k.
</BLOCKQUOTE>
<H5><A NAME = "5015">BasisOfDifferentialsFirstKind(F) : FldFunG -&gt; SeqEnum[DiffFunElt]</A></H5>
<H5>BasisOfHolomorphicDifferentials(F) : FldFunG -&gt; SeqEnum[DiffFunElt]</H5>
<BLOCKQUOTE>
A basis of the space of differentials of the first kind (holomorphic
differentials) of the
function field F/k.
</BLOCKQUOTE>
<H5><A NAME = "5016"></A><A NAME = "Differentials:Subspaces:DifferentialBasis">DifferentialBasis</A>(D) : DivFunElt -&gt; [DiffFunElt]</H5>
<BLOCKQUOTE>
Computes a basis for the space of differentials &Omega;(D) := {
&omega; &isin;&Omega;(F/k) | (&omega;) &ge;D } for a divisor D
of an algebraic function field F/k.
</BLOCKQUOTE>
<H5><A NAME = "5017">DifferentialSpace(D) : DivFunElt -&gt; ModFld, Map</A></H5>
<BLOCKQUOTE>
A vector space and the isomorphism from this space to the differential space
of the divisor D.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5018">Example <TT>FldFunG_div_diff (H44E41)</TT></A></H3>
This example illustrates the differential space of a divisor and some
of the operations that can be done with it.
<P>
<P>
<PRE>
&gt; Q := Rationals();
&gt; Qx&lt;x&gt; := PolynomialRing(Q);
&gt; Qxy&lt;y&gt; := PolynomialRing(Qx);
&gt; f1 := y^2 - (x-1)*(x-2)*(x-3)*(x-5)*(x-6);
&gt; F := FunctionField(f1);
&gt; d := Divisor(F.1) + Divisor(F!BaseRing(F).1);
&gt; V1 := DifferentialSpace(d);
&gt; d := 2*Divisor(F.1) - Divisor(F!BaseRing(F).1);
&gt; V2 := DifferentialSpace(d);
&gt; V1;
KModule V1 of dimension 2 over Rational Field
&gt; V2;
KModule V2 of dimension 2 over Rational Field
&gt; V1 meet V2;
KModule of dimension 0 over Rational Field
&gt; D := DifferentialSpace(F);
&gt; v := V1 ! [2/9, 4/9]; v;
V1: (2/9 4/9)
&gt; D!v;
(2/9*x^2 + 4/9*x) d(x)
&gt; V1!$1;
V1: (2/9 4/9)
&gt; BasisOfDifferentialsFirstKind(F);
[ (x/(x^5 - 17*x^4 + 107*x^3 - 307*x^2 + 396*x - 180)*F.1) d(x), (1/(x^5 - 
    17*x^4 + 107*x^3 - 307*x^2 + 396*x - 180)*F.1) d(x) ]
</PRE>
<HR>
<H4><A NAME = "5019">Structure Predicates</A></H4>



<H5><A NAME = "5020">D1 eq D2 : DiffFun, DiffFun -&gt; BoolElt</A></H5>
<BLOCKQUOTE>
Return <TT>true</TT> if the spaces of differentials D1 and D2 are the same.
</BLOCKQUOTE>
<H4><A NAME = "5021">Operations on Elements</A></H4>

<P>
<P>
<P>
A number of general operations for elements are also provided for
differentials as well as a number of specific functions for differentials.


<H5><A NAME = "5022">Arithmetic Operators</A></H5>



<H5><A NAME = "5023">r * x : RngElt, DiffFunElt -&gt; DiffFunElt</A></H5>
<H5>x * r : DiffFunElt, RngElt -&gt; DiffFunElt</H5>
<H5>x + y : DiffFunElt, DiffFunElt -&gt; DiffFunElt</H5>
<H5>- x : DiffFunElt -&gt; DiffFunElt</H5>
<H5>x - y : DiffFunElt, DiffFunElt -&gt; DiffFunElt</H5>
<H5>x / y : DiffFunElt, DiffFunElt -&gt; FldFunGElt</H5>
<H5>x / r : DiffFunElt, RngElt -&gt; DiffFunElt</H5>
<BLOCKQUOTE>
The operations on differentials are inherited from the vector space
structure of the space of differentials. Additionally, this space is
one--dimensional as a vector space over the function field itself. The
quotient x/y of two differentials x and y then gives the unique
r &isin;F such that x = ry.
</BLOCKQUOTE>
<H5><A NAME = "5024">Equality and Membership</A></H5>



<H5><A NAME = "5025">x eq y : DiffFunElt, DiffFunElt -&gt; BoolElt</A></H5>
<BLOCKQUOTE>
Returns <TT>true</TT> if x and y are the same differential.
</BLOCKQUOTE>
<H5><A NAME = "5026">x in D : Any, DiffFun -&gt; BoolElt</A></H5>
<BLOCKQUOTE>
Returns <TT>true</TT> if x is in the space of differentials D.
</BLOCKQUOTE>
<H5><A NAME = "5027">Predicates on Elements</A></H5>



<H5><A NAME = "5028">IsExact(d) : DiffFunElt -&gt; BoolElt, FldFunGElt</A></H5>
<BLOCKQUOTE>
Return whether d is known to be an exact differential.  If <TT>true</TT>
additionally return a generator. If d is not already known to be
exact then no attempts to determine whether d is exact or not are
currently undertaken.
</BLOCKQUOTE>
<H5><A NAME = "5029">IsZero(d) : DiffFunElt -&gt; BoolElt</A></H5>
<BLOCKQUOTE>
Return <TT>true</TT> if d is the zero differential.
</BLOCKQUOTE>
<H5><A NAME = "5030">Functions on Elements</A></H5>



<H5><A NAME = "5031">Valuation(d, P) : DiffFunElt, PlcFunElt -&gt; RngIntElt</A></H5>
<BLOCKQUOTE>
The valuation of the differential d at the place P.
</BLOCKQUOTE>
<H5><A NAME = "5032">Divisor(d) : DiffFunElt -&gt; DivFunElt</A></H5>
<BLOCKQUOTE>
The divisor (d) of the differential d.
</BLOCKQUOTE>
<H5><A NAME = "5033">Residue(d, P) : DiffFunElt, PlcFunElt -&gt; RngElt</A></H5>
<BLOCKQUOTE>
The residue of the differential d at the place P, where P must
(currently) have degree one.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5034">Example <TT>FldFunG_diff-fun (H44E42)</TT></A></H3>
<P>
<P>
<PRE>
&gt; PF&lt;x&gt; := PolynomialRing(GF(31, 3));
&gt; P&lt;y&gt; := PolynomialRing(PF);
&gt; FF1&lt;b&gt; := ext&lt;FieldOfFractions(PF) | y^2 - x&gt;;
&gt; P&lt;y&gt; := PolynomialRing(FF1);
&gt; FF2&lt;d&gt; := ext&lt;FF1 | y^3 - b : Check := false&gt;;
&gt; Differential(d);
(26/x*d) d(x)
&gt; I := Random(FF2, 2)*MaximalOrderInfinite(FF2); 
&gt; P := Place(Factorization(I)[1][1]);
&gt; Valuation(Differential(d), P);
-2
&gt; IsExact(Differential(Random(FF2, 2)));
true
</PRE>
<HR>
<H5><A NAME = "5035">Module(L, R) : SeqEnum[ DiffFunElt ], Rng -&gt; Mod, Map, SeqEnum[ ModElt ]</A></H5>

<PRE>    IsBasis: BoolElt                    Default: <TT>false</TT></PRE>

<PRE>    PreImages: BoolElt                  Default: <TT>false</TT></PRE>
<BLOCKQUOTE>
The R-module generated by the differentials in the sequence L as an
abstract module, together with the map into the space of differentials.
The resulting modules can be used for intersection and inner
sum computations. <P>
<P>
If the optional parameter <TT>IsBasis</TT> is set <TT>true</TT> the function
assumes that the given elements form a basis of the module to be
computed. <P>
<P>
If the optional parameter <TT>PreImages</TT> is set <TT>true</TT> then the
preimages of the given elements under the map are returned as the
third return value. <P>
<P>
Both optional parameters are mainly used to save computation time. 
</BLOCKQUOTE>
<H5><A NAME = "5036">Relations(L, R) : SeqEnum[ DiffFunElt ], Rng -&gt; ModTupRng</A></H5>
<H5>Relations(L, R, m) : SeqEnum[ DiffFunElt ], Rng, RngIntElt -&gt; ModTupRng</H5>
<BLOCKQUOTE>
The module of R-linear relations between the differentials of the
sequence L.  The integer m is used for the following: Let the
elements of L be a<sub>1</sub>, ..., a<sub>n</sub>, V be the relation module
&sube;R<sup>n</sup> and define M := { &sum;<sub>i=1</sub><sup>m</sup> v<sub>i</sub> a<sub>i</sub>  | v =
(v<sub>i</sub>)<sub>i</sub> &isin;V  }.  The function tries to compute a generating
system of V such that the corresponding generating system of M
consists of "small" elements.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5037">Example <TT>FldFunG_module-diff (H44E43)</TT></A></H3>
This example shows some of the conversions and operations possible
with the results of <TT>Module</TT>.
<P>
<P>
<PRE>
&gt; Q := Rationals();
&gt; Qx&lt;x&gt; := PolynomialRing(Q);
&gt; Qxy&lt;y&gt; := PolynomialRing(Qx);
&gt; f1 := y^2 - (x-1)*(x-2)*(x-3)*(x-5)*(x-6);
&gt; F := FunctionField(f1);
&gt; D := DifferentialSpace(F);
&gt; M7 := Module([Differential(3*F.1)], FieldOfFractions(Qx));
&gt; M8 := Module([Differential(F.1), Differential(F!BaseRing(F).1)], 
&gt; FieldOfFractions(Qx));
&gt; M12 := M7 meet M8;
&gt; M16 := M7 + M8;
&gt; assert M12 subset M7;
&gt; assert M12 subset M8;
&gt; assert M12 subset M16;
&gt; r := M7![&amp;+[Random([-100, 100])/Random([1, 100])*x^i : i in [1 .. 5]]/
&gt; &amp;+[Random([-100, 100])/Random([1,
&gt; 100])*x^i : i in [1 .. 5]] : j in [1 .. Dimension(M7)]];
&gt; assert M7!D!r eq r;
&gt; r;
M7: ((1/100*x^4 + x^3 - x^2 + 1/100*x - 1/100)/(x^4 - 1/100*x^3 - 1/100*x^2 + 
    1/100*x - 1/100))
&gt; D!r;
((3/40*x^8 + 162/25*x^7 - 20937/200*x^6 + 114873/200*x^5 - 279531/200*x^4 + 
    304167/200*x^3 - 24321/40*x^2 + 303/20*x - 297/50)/(x^9 - 1701/100*x^8 + 
    2679/25*x^7 - 30789/100*x^6 + 19891/50*x^5 - 3593/20*x^4 - 63/10*x^3 + 
    883/100*x^2 - 144/25*x + 9/5)*F.1) d(x)
</PRE>
<HR>
<H5><A NAME = "5038">Cartier(b) : DiffFunElt -&gt; DiffFunElt</A></H5>
<H5>Cartier(b, r) : DiffFunElt, RngIntElt -&gt; DiffFunElt</H5>
<BLOCKQUOTE>
The result of applying the Cartier operator r times to b. More precisely,
let F/k be a function field over the perfect field k, x &isin;F be
a separating variable and b = g dx &isin;&Omega;(F/k) with g &isin;F
be a differential.  The Cartier operator is defined by  C(b) =
( - d<sup>p - 1</sup> g / dx<sup>p - 1</sup> )<sup>1/p</sup> dx. This function
computes the r-th iterated application of C to b.
</BLOCKQUOTE>
<H5><A NAME = "5039">Other</A></H5>



<H5><A NAME = "5040">CartierRepresentation(F) : FldFunG -&gt; AlgMatElt, SeqEnum[DiffFunElt]</A></H5>
<H5>CartierRepresentation(F, r) : FldFunG, RngIntElt -&gt; AlgMatElt, SeqEnum[DiffFunElt]</H5>
<BLOCKQUOTE>
Compute a row representation matrix of the Cartier operator on
a basis of the space of holomorphic differentials of F/k (applied r times).
More precisely,
let F/k be a function field over the perfect field k, &omega;<sub>1</sub>, ..., &omega;<sub>g</sub> &isin;&Omega;(F/k) be a basis for the holomorphic
differentials and r &isin;Z<sup>&ge;1</sup>.  Let M = (&lambda;<sub>i, j</sub>)<sub>i, j</sub>
&isin;k<sup>g x g</sup> be the matrix such that  C<sup>r</sup>(&omega;<sub>i</sub>) =
&sum;<sub>m=1</sub><sup>g</sup> &lambda;<sub>i, m</sub> &omega;<sub>m</sub> for all 1 &le;i &le;g. This
function returns M and (&omega;<sub>1</sub>, ..., &omega;<sub>g</sub>).
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5041">Example <TT>FldFunG_diff-cart (H44E44)</TT></A></H3>
An example of a trivial cartier action.
<P>
<P>
<PRE>
&gt; PF&lt;x&gt; := PolynomialRing(GF(31, 3));
&gt; P&lt;y&gt; := PolynomialRing(PF);
&gt; FF1&lt;b&gt; := ext&lt;FieldOfFractions(PF) | y^2 - x&gt;;
&gt; P&lt;y&gt; := PolynomialRing(FF1);
&gt; FF2&lt;d&gt; := ext&lt;FF1 | y^3 - b : Check := false&gt;;
&gt; Cartier(Differential(d), 4);
(0) d(x)
&gt; CartierRepresentation(FF2, 3);
Matrix with 0 rows and 0 columns
[]
</PRE>
<HR>
<PRE></PRE> <A  HREF = "text458.htm">[Next]</A><A  HREF = "text456.htm">[Prev]</A> <A  HREF = "text458.htm">[Right]</A> <A  HREF = "text456.htm">[Left]</A> <A  HREF = "text442.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<br><small>Version: V2.22 of <I>
Thu Jun  9 16:37:49 EST 2016
</I></small>
</body></html>