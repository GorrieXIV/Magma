<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel='stylesheet' href='help.css' type='text/css'>
  <TITLE>Timing</TITLE>
</head>
<body BGCOLOR="#FFFFFF">

 <A  HREF = "text17.htm">[Next]</A><A  HREF = "text15.htm">[Prev]</A> <A  HREF = "text17.htm">[Right]</A> <A  HREF = "text15.htm">[Left]</A> <A  HREF = "text3.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<PRE></PRE><H3><A NAME = "102">Timing</A></H3>



<H5><A NAME = "103">Cputime() : -&gt; FldReElt</A></H5>
<BLOCKQUOTE>
Return the CPU time (as a real number of default precision)
used since the beginning of the Magma session.
Note that for the MSDOS version, this is the real time used
since the beginning of the session (necessarily, since
process CPU time is not available).
</BLOCKQUOTE>
<H5><A NAME = "104">Cputime(t) : FldReElt -&gt; FldReElt</A></H5>
<BLOCKQUOTE>
Return the CPU time (as a real number of default precision)
used since time t. Time starts at 0.0 at the beginning
of a Magma session.
</BLOCKQUOTE>
<H5><A NAME = "105">Realtime() : -&gt; FldReElt</A></H5>
<BLOCKQUOTE>
Return the absolute real time (as a real number of default precision),
which is the number of seconds since 00:00:00 GMT, January 1, 1970.
For the MSDOS version, this is the real time used
since the beginning of the session.
</BLOCKQUOTE>
<H5><A NAME = "106">Realtime(t) : FldReElt -&gt; FldReElt</A></H5>
<BLOCKQUOTE>
Return the real time (as a real number of default precision)
elapsed since time t.
</BLOCKQUOTE>
<H5><A NAME = "107">ClockCycles() : -&gt; RngIntElt</A></H5>
<BLOCKQUOTE>
Return the number of clock cycles of the CPU since Magma's startup.
Note that this matches the real time (i.e., not process user/system time).
If the operation is not supported on the current processor, zero is
returned.
</BLOCKQUOTE>
<H5><A NAME = "108">time statement;</A></H5>
<BLOCKQUOTE>
Execute the statement and print the time taken when the statement is
completed.
</BLOCKQUOTE>
<H5><A NAME = "109">vtime flag: <I>statement</I>;</A></H5>
<H5>vtime flag, n: <I>statement</I>:</H5>
<BLOCKQUOTE>
If the verbose flag <I>flag</I> (see the function <TT>SetVerbose</TT>)
has a level greater than or equal to n, execute the statement and print
the time taken when the statement is completed.  If the flag has
level 0 (i.e., is not turned on), still execute the statement, but
do not print the timing.  In the first form of this statement, where
a specific level is not given, n is taken to be 1.
This statement is useful in Magma code
found in packages
where one wants to print the timing of some sub-algorithm if and only if
an appropriate verbose flag is turned on.
</BLOCKQUOTE>
<H5><A NAME = "110">SetShowRealTime(v) : BoolElt -&gt;</A></H5>
<BLOCKQUOTE>
Sets whether or not to print real time as well as CPU time when a
<TT>time</TT> or <TT>vtime</TT> statement is executed.  By default this
flag is false, meaning that only the CPU time is printed.
</BLOCKQUOTE>
<H5><A NAME = "111">GetShowRealTime() : -&gt; BoolElt</A></H5>
<BLOCKQUOTE>
Returns the current value of the flag that determines if real time
is additionally printed by the <TT>time</TT> and <TT>vtime</TT> statements.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "112">Example <TT>State_Time (H1E20)</TT></A></H3>
The <TT>time</TT> command can be used to time a single statement.
<P>
<P>
<PRE>
&gt; n := 2^109-1;
&gt; time Factorization(n);
[&lt;745988807, 1&gt;, &lt;870035986098720987332873, 1&gt;]
Time: 0.149
</PRE>
Alternatively, we can extract the current time t and use <TT>Cputime</TT>.
This method can be used to time the execution of several statements.
<P>
<P>
<PRE>
&gt; m := 2^111-1;
&gt; n := 2^113-1;
&gt; t := Cputime();
&gt; Factorization(m);
[&lt;7, 1&gt;, &lt;223, 1&gt;, &lt;321679, 1&gt;, &lt;26295457, 1&gt;, &lt;319020217, 1&gt;, &lt;616318177, 1&gt;]
&gt; Factorization(n);
[&lt;3391, 1&gt;, &lt;23279, 1&gt;, &lt;65993, 1&gt;, &lt;1868569, 1&gt;, &lt;1066818132868207, 1&gt;]
&gt; Cputime(t);
0.121
</PRE>
We illustrate a simple use of <TT>vtime</TT> with <TT>vprint</TT> within a function.
<P>
<P>
<PRE>
&gt; function MyFunc(G)
&gt;    vprint User1: "Computing order...";
&gt;    vtime  User1: o := #G;
&gt;    return o;
&gt; end function;
&gt; SetVerbose("User1", 0);
&gt; MyFunc(Sym(4));
24
&gt; SetVerbose("User1", 1);
&gt; MyFunc(Sym(4));        
Computing order...
Time: 0.000
24
</PRE>
<HR>
<PRE></PRE> <A  HREF = "text17.htm">[Next]</A><A  HREF = "text15.htm">[Prev]</A> <A  HREF = "text17.htm">[Right]</A> <A  HREF = "text15.htm">[Left]</A> <A  HREF = "text3.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<br><small>Version: V2.22 of <I>
Thu Jun  9 16:37:49 EST 2016
</I></small>
</body></html>