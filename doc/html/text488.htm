<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel='stylesheet' href='help.css' type='text/css'>
  <TITLE>Element Constructions and Conversions</TITLE>
</head>
<body BGCOLOR="#FFFFFF">

 <A  HREF = "text489.htm">[Next]</A><A  HREF = "text487.htm">[Prev]</A> <A  HREF = "text489.htm">[Right]</A> <A  HREF = "text487.htm">[Left]</A> <A  HREF = "text481.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<PRE></PRE><H3><A NAME = "5301">Element Constructions and Conversions</A></H3>

<P>
<P>
Local ring elements are implemented using a balanced mod
representation. This allows small negative elements x to be represented as
x rather than p<sup>k</sup> - x where k is a p-adic precision. 



<H5>Subsections</H5>
<UL>
<LI> <A  HREF = "text488.htm#5302">Constructions</A>
<LI> <A  HREF = "text488.htm#5314">Element Decomposers</A>
</UL>
<H4><A NAME = "5302">Constructions</A></H4>

<P>
<P>
<P>
To simplify the creation of elements in a local ring, various coercions are
provided. The most obvious is to regard the integer ring or rational field as
embedded in the p-adic ring or field. But there is a range of coercions
available, including that of elements from the residue class field.
<P>
To create an element of a local field not lying in the local ring, constructors
are provided that create an element coercible into the ring, and which increase
or decrease this element's valuation in the field.


<H5><A NAME = "5303">Zero(L) : RngPad -&gt; RngPadElt</A></H5>
<H5>Zero(L) : RngPadRes -&gt; RngPadResElt</H5>
<H5>Zero(L) : RngPadResExt -&gt; RngPadResExtElt</H5>
<H5>Zero(L) : FldPad -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Given a local ring or field L, create the additive identity of L. Note that
if L is an unbounded precision ring, this will only be the zero element
to the default precision of the ring, and hence only an approximation to
the additive identity of L. The valuation and hence the absolute precision of
the zero of a field is infinite.
</BLOCKQUOTE>
<H5><A NAME = "5304">One(L) : RngPad -&gt; RngPadElt</A></H5>
<H5>One(L) : RngPadRes -&gt; RngPadResElt</H5>
<H5>One(L) : RngPadResExt -&gt; RngPadResExtElt</H5>
<H5>One(L) : FldPad -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Given a local ring or field L, create the multiplicative identity of L.
Note that if L is an unbounded precision structure, this will only be the one
element to the default precision of the ring, and hence only an
approximation to the multiplicative identity of L.
</BLOCKQUOTE>
<H5><A NAME = "5305">Random(L) : RngPad -&gt; RngPadElt</A></H5>
<H5>Random(L) : RngPadRes -&gt; RngPadResElt</H5>
<H5>Random(L) : RngPadResExt -&gt; RngPadResExtElt</H5>
<BLOCKQUOTE>
Given a local ring or field L, return a random element of L, which must be
a quotient ring or bounded precision ring.  The element will have the default
precision of the ring.
</BLOCKQUOTE>
<H5><A NAME = "5306">Representative(L) : RngPad -&gt; RngPadElt</A></H5>
<H5>Representative(L) : RngPadRes -&gt; RngPadResElt</H5>
<H5>Representative(L) : RngPadResExt -&gt; RngPadResExtElt</H5>
<H5>Representative(L) : FldPad -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Return an element of the local ring or field L.
</BLOCKQUOTE>
<H5><A NAME = "5307">elt&lt;L | u&gt; : RngPad, RngElt -&gt; RngPadElt</A></H5>
<H5>elt&lt;L | u&gt; : RngPad, [RngElt] -&gt; RngPadElt</H5>
<H5>L ! u : RngPad, RngElt -&gt; RngPadElt</H5>
<H5>L ! u : RngPad, [RngElt] -&gt; RngPadElt</H5>
<H5>elt&lt;L | u&gt; : FldPad, RngElt -&gt; FldPadElt</H5>
<H5>elt&lt;L | u&gt; : FldPad, [RngElt] -&gt; FldPadElt</H5>
<H5>L ! u : FldPad, RngElt -&gt; FldPadElt</H5>
<H5>L ! u : FldPad, [RngElt] -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Coerce the object u into the local ring or field L. The resulting element
will have as much precision as possible.  The element u is allowed to be one
of the following:
<DL COMPACT class='compact'>
<DT>(i)</DT><DD>An integer.
<DT>(ii)</DT><DD>An element of Z / p<sup>m</sup>Z; (where m is a precision).
<DT>(iii)</DT><DD>An element of the residue class field of L.
<DT>(iv)</DT><DD>An element of a local ring or field with something in common
with L.
<DT>(v)</DT><DD>A rational number. If L is a ring then u must not have
valuation in the denominator.
<DT>(vi)</DT><DD>An element of a valuation ring over the rationals with the same
prime as L.
<DT>(vii)</DT><DD>A sequence s.  In this case, the sequence s is coerced to
a sequence t over the base ring or field of L.  This sequence is coerced to
&sum;<sub>i=1</sub><sup>#t</sup> t[i] L.1<sup>i - 1</sup>.</DL>
</BLOCKQUOTE>
<H5><A NAME = "5308">elt&lt;L | u, r&gt; : RngPad, RngElt, RngIntElt -&gt; RngPadElt</A></H5>
<H5>elt&lt;L | u, r&gt; : RngPad, [RngElt], RngIntElt -&gt; RngPadElt</H5>
<H5>elt&lt;L | u, r&gt; : FldPad, RngElt, RngIntElt -&gt; FldPadElt</H5>
<H5>elt&lt;L | u, r&gt; : FldPad, [RngElt], RngIntElt -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Create an element of the local ring or field L by coercing 
u into L and returning with it precision r.
</BLOCKQUOTE>
<H5><A NAME = "5309">elt&lt;L | v, u, r&gt; : RngPad, RngIntElt, RngElt, RngIntElt -&gt; RngPadElt</A></H5>
<H5>elt&lt;L | v, u, r&gt; : RngPad, RngIntElt, [RngElt], RngIntElt -&gt; RngPadElt</H5>
<H5>elt&lt;L | v, u, r&gt; : FldPad, RngIntElt, RngElt, RngIntElt -&gt; FldPadElt</H5>
<H5>elt&lt;L | v, u, r&gt; : FldPad, RngIntElt, [RngElt], RngIntElt -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Create an element of the local ring or field L by coercing u into L, 
multiplying by the v-th power of the uniformizing element and 
returning it with precision r.
</BLOCKQUOTE>
<H5><A NAME = "5310">BigO(x) : RngPadElt -&gt; RngPadElt</A></H5>
<H5>BigO(x) : FldPadElt -&gt; FldPadElt</H5>
<H5>O(x) : RngPadElt -&gt; RngPadElt</H5>
<H5>O(x) : FldPadElt -&gt; FldPadElt</H5>
<BLOCKQUOTE>
For an element x of a local ring or field L of valuation v, create an
element of valuation v and relative precision 0. For rings this is the zero
element in the quotient L / &pi;<sup>v</sup> L.
</BLOCKQUOTE>
<H5><A NAME = "5311">UniformizingElement(L) : RngPad -&gt; RngPadElt</A></H5>
<H5>UniformizingElement(L) : RngPadRes -&gt; RndPadResElt</H5>
<H5>UniformizingElement(L) : RngPadResExt -&gt; RndPadResExtElt</H5>
<H5>UniformizingElement(L) : FldPad -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Given a local ring or field L, return the uniformizing element of L to
the default precision of L.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5312">Example <TT>RngLoc_eltcons (H47E8)</TT></A></H3>
Here we illustrate the usage of element constructors for local fields and 
imprecise zeros.
<P>
<P>
<PRE>
&gt; Zp := pAdicRing(5, 20);
&gt; I&lt;a&gt; := UnramifiedExtension(Zp, 3);
&gt; R&lt;x&gt; := PolynomialRing(I);
&gt; L&lt;b&gt; := ext&lt;I | x^3 + 5*a*x^2 + 5&gt;;
&gt; K&lt;pi&gt; := ext&lt;BaseField(FieldOfFractions(L)) | x^2 + 5&gt;;
&gt; K;
Totally ramified extension defined by the polynomial x^2 + 5
 over Unramified extension defined by the polynomial x^3 + 3*x + 3
 over 5-adic field mod 5^20
&gt; elt&lt;K | 64&gt;;
64 + O(pi^40)
&gt; P := PrimeField(K);
&gt; elt&lt;K | 2, 3/4, 6&gt;;
pi^2*7 + O(pi^6)
&gt; 4*$1;
pi^2*3 + O(pi^6)
&gt; K!3/5;
pi^-2*3 + O(pi^38)
&gt; O(K!40^200);
O(pi^400)
&gt; Precision($1);
0
&gt; O(K!0);
O(pi^40)
&gt; O(K!1);
O(1)
&gt; R&lt;x&gt; := PolynomialRing(Integers());
&gt; K&lt;pi&gt; := ext&lt;pAdicField(5, 100) | x^2 + 5&gt;;
&gt; elt&lt;K | 64&gt;;
64 + O(pi^200)
&gt; Precision($1);
200
&gt; K!3/10;
-pi^-2*3944304526105059027058642826413931148366032175545115023851394653320311 + 
O(pi^198)
</PRE>
<HR>
<H3><A NAME = "5313">Example <TT>RngLoc_eltcons_seq_weird (H47E9)</TT></A></H3>
There is a subtle interplay between the default precision of rings and fields 
and coercion of sequences, which we demonstrate here.  We construct the 5-adic
field P, and an unramified extension of R.  We set the default precision of
R to be higher than that of P.
<P>
<P>
<P>
<PRE>
&gt; P := pAdicRing(5);
&gt; R := ext&lt;P | 2&gt;; 
&gt; P`DefaultPrecision;
20
&gt; R`DefaultPrecision := 40;
&gt; x := Random(R);
&gt; x;
-1579801843431963201369145587*R.1 - 680575730458975039033394769 + O(5^40)
&gt; s := [-680575730458975039033394769, -1579801843431963201369145587];
&gt; R!s;
-13585890629962*R.1 + 47482939261481 + O(5^20)
&gt; P`DefaultPrecision := 40;
&gt; R!s;
-1579801843431963201369145587*R.1 - 680575730458975039033394769 + O(5^40)
</PRE>
<P>
As can be seen from the above, it is the default precision of the base ring,
not the ring itself, which determines the precision of elements created
by sequences.
<HR>
<H4><A NAME = "5314">Element Decomposers</A></H4>



<H5><A NAME = "5315">ElementToSequence(x) : RngPadElt -&gt; [ RngElt ]</A></H5>
<H5>ElementToSequence(x) : RngPadResElt -&gt; [ RngElt ]</H5>
<H5>ElementToSequence(x) : RngPadResExtElt -&gt; [ RngElt ]</H5>
<H5>ElementToSequence(x) : FldPadElt -&gt; [ RngElt ]</H5>
<H5>Eltseq(x) : RngPadElt -&gt; [ RngElt ]</H5>
<H5>Eltseq(x) : RngPadResElt -&gt; [ RngElt ]</H5>
<H5>Eltseq(x) : RngPadResExtElt -&gt; [ RngElt ]</H5>
<H5>Eltseq(x) : FldPadElt -&gt; [ RngElt ]</H5>
<H5>Coefficients(x) : RngPadElt -&gt; [ RngElt ]</H5>
<H5>Coefficients(x) : RngPadResElt -&gt; [ RngElt ]</H5>
<H5>Coefficients(x) : RngPadResExtElt -&gt; [ RngElt ]</H5>
<H5>Coefficients(x) : FldPadElt -&gt; [ RngElt ]</H5>
<BLOCKQUOTE>
Given an element x of a degree n extension K of L, these functions
return a sequence s of elements of L such that x = &sum;<sub>i=1</sub><sup>n</sup> s[i]
K.1<sup>i - 1</sup>.
</BLOCKQUOTE>
<H5><A NAME = "5316">Coefficient(x, i) : RngPadElt, RngIntElt -&gt; RngPadElt</A></H5>
<H5>Coefficient(x, i) : RngPadResElt, RngIntElt -&gt; RngPadResElt</H5>
<H5>Coefficient(x, i) : RngPadResExtElt, RngIntElt -&gt; RngElt</H5>
<H5>Coefficient(x, i) : FldPadElt, RngIntElt -&gt; FldPadElt</H5>
<BLOCKQUOTE>
Equivalent to, but more efficient than, <TT>Coefficients(x)[i]</TT>.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "5317">Example <TT>RngLoc_gal-desc (H47E10)</TT></A></H3>
We want to perform a Galois descent for a polynomial, i.e. we interpret the
product of the Galois conjugates of a polynomial in a subring.
<P>
<P>
<PRE>
&gt; p := 3;
&gt; L&lt;a&gt; := UnramifiedExtension(pAdicRing(p), 4 : Cyclotomic);
&gt; R&lt;x&gt; := PolynomialRing(L);
&gt; g := x^2 + (a+a^-2)*x + (a^-1+a^3+1);
&gt; g;
(1 + O(3^20))*x^2 + (-151999392*a^3 - 428033534*a^2 + 1509587217*a - 64512399 + 
    O(3^20))*x + 2*a^3 + 307453058*a^2 - 1732356354*a - 151999391 + O(3^20)
&gt; a2 := a^(p^2);
&gt; g2 := R ! [ &amp;+[Eltseq(c)[i]*a2^(i-1) : i in [1..4]] : c in Eltseq(g) ];
</PRE>
Here <TT>Eltseq</TT> is being used to replace occurrences of a in the element by
a<sub>2</sub>.
<P>
<P>
<PRE>
&gt; h := g * g2;
&gt; h;
(1 + O(3^20))*x^4 + (774759822*a^3 - 1559939781*a^2 + 644136111*a + 143311364 + 
    O(3^20))*x^3 + (73899384*a^3 - 333497478*a^2 + 1655979363*a + 158024680 + 
    O(3^20))*x^2 + (989668189*a^3 - 661853000*a^2 - 1685887308*a + 122035547 + 
    O(3^20))*x - 1630826887*a^3 - 328410694*a^2 - 175290219*a + 1601599448 + 
    O(3^20)
</PRE>
The polynomial g<sub>2</sub> is the image of g under the automorphism induced by the
square of the Frobenius automorphism. The product h = g g<sub>2</sub> has coefficients
in the unramified extension of degree 2, which is the fixed field under the
square of the Frobenius and is generated by a<sup>10</sup>.  Next, we determine
a representation for the polynomial h with coefficients lying in this
unramified extension of degree 2.
<P>
<P>
<PRE>
&gt; K&lt;b&gt; := UnramifiedExtension(pAdicRing(p), 2 : Cyclotomic);
&gt; S&lt;y&gt; := PolynomialRing(K);
&gt; M := RMatrixSpace(PrimeRing(L), 2, 4) ! 0;
&gt; V := RSpace(PrimeRing(L), 4);
&gt; M[1] := V ! Eltseq(a^0);
&gt; M[2] := V ! Eltseq(a^10);
&gt; sol := [ Solution(M, V ! Eltseq(c)) : c in Eltseq(h) ];
&gt; h2 := S ! [ K ! Eltseq(s) : s in sol ];
&gt; h2;
(1 + O(3^20))*y^4 + (-1237301755*b + 505889265 + O(3^20))*y^3 + (-542504216*b + 
    1258167831 + O(3^20))*y^2 + (-280210015*b - 1205051127 + O(3^20))*y + 
    1213139407*b + 1602993886 + O(3^20)
</PRE>
<HR>
<PRE></PRE> <A  HREF = "text489.htm">[Next]</A><A  HREF = "text487.htm">[Prev]</A> <A  HREF = "text489.htm">[Right]</A> <A  HREF = "text487.htm">[Left]</A> <A  HREF = "text481.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<br><small>Version: V2.22 of <I>
Thu Jun  9 16:37:49 EST 2016
</I></small>
</body></html>