<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <link rel='stylesheet' href='help.css' type='text/css'>
  <TITLE>Creation Functions</TITLE>
</head>
<body BGCOLOR="#FFFFFF">

 <A  HREF = "text1596.htm">[Next]</A><A  HREF = "text1594.htm">[Prev]</A> <A  HREF = "text1596.htm">[Right]</A> <A  HREF = "text1594.htm">[Left]</A> <A  HREF = "text1592.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<PRE></PRE><H3><A NAME = "17738">Creation Functions</A></H3>




<H5>Subsections</H5>
<UL>
<LI> <A  HREF = "text1595.htm#17739">Ambient Spaces</A>
<LI> <A  HREF = "text1595.htm#17748">Labels</A>
<LI> <A  HREF = "text1595.htm#17751">Creation of Elements</A>
</UL>
<H4><A NAME = "17739">Ambient Spaces</A></H4>

<P>
<P>
<P>
An ambient space of modular symbols is created by specifying a base ring,
character, weight, and optional sign.  Note that spaces of modular symbols 
may be defined directly over any base ring (unlike <TT>ModularForms</TT>, which
can only be base extensions of spaces over the integers).  
The most general signature is <TT>ModularSymbols(eps, k, sign)</TT>, 
where <TT>eps</TT> is a Dirichlet character (the level is taken to be the modulus 
of <TT>eps</TT>, and the base ring is taken to be the base ring of <TT>eps</TT>).
<P>
For information on Dirichlet characters, see Section <A  HREF = "text179.htm#1432">Dirichlet Characters</A>.
<P>
<P>
<P>
<B>Warning:</B> Certain functions, such as <TT>DualVectorSpace</TT>, may
fail when given as input a space of modular symbols over a field of
positive characteristic, because the Hecke operators T<sub>p</sub>, with p
prime to the level, need not be semisimple.


<H5><A NAME = "17740">ModularSymbols(N) : RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of level N, weight 2, and 
trivial character over the rational numbers.
</BLOCKQUOTE>
<H5><A NAME = "17741">ModularSymbols(N, k) : RngIntElt, RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of level N, weight k, 
and trivial character over the rational numbers.
</BLOCKQUOTE>
<H5><A NAME = "17742">ModularSymbols(N, k, F) : RngIntElt, RngIntElt, Fld -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of level N, weight k, and trivial character
over the field F.
</BLOCKQUOTE>
<H5><A NAME = "17743">ModularSymbols(N, k, sign) : RngIntElt, RngIntElt, RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of level N, weight k, trivial character,
and given sign (as an integer) over the rational numbers. 
</BLOCKQUOTE>
<H5><A NAME = "17744">ModularSymbols(N, k, F, sign) : RngIntElt, RngIntElt, Fld, RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of level N, weight k, trivial character, 
and given sign (as an integer), over the field F.
</BLOCKQUOTE>
<H5><A NAME = "17745">ModularSymbols(eps, k) : GrpDrchElt, RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of weight k and character &epsilon;
(as an element of a Dirichlet group).
Note that &epsilon; determines the level and the base field, so
they do not need to be specified.
</BLOCKQUOTE>
<H5><A NAME = "17746">ModularSymbols(eps, k, sign) : GrpDrchElt, RngIntElt, RngIntElt -&gt; ModSym</A></H5>
<BLOCKQUOTE>
The space of modular symbols of weight k and character &epsilon;
(as an element of a Dirichlet group). 
The level and base field are specified as 
part of &epsilon;. The third argument 
"sign" allows for working in certain quotients. 
The possible values are -1, 0, and +1, 
which correspond to the -1 quotient, full space, and +1 quotient,
respectively.
The +1 quotient of M is M/( * -1)M, where * is 
<TT>StarInvolution(M)</TT>.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "17747">Example <TT>ModSym_Creation-Ambient (H139E2)</TT></A></H3>
We create spaces of modular symbols in several different ways.
<P>
<P>
<PRE>
&gt; M37 := ModularSymbols(37); M37;
Full modular symbols space for Gamma_0(37) of weight 2 and dimension 5
over Rational Field
&gt; Basis(M37);
[
    {-1/29, 0},
    {-1/22, 0},
    {-1/12, 0},
    {-1/18, 0},
    {oo, 0}
]
</PRE>
As <TT>M37</TT> is a space of modular symbols, it is not incorrect
that its dimension is different than that of the three-dimensional 
space of modular forms M<sub>2</sub>(&Gamma;<sub>0</sub>(37)).  We have
dim Mm<sub>2</sub>(&Gamma;<sub>0</sub>(37)) = 2 x ((dim  cusp  forms)) + 
         1 x ((dim  Eisenstein  series)) = 5.
<P>
<P>
<PRE>
&gt; MF := ModularForms(Gamma0(37),2);
&gt; 2*Dimension(CuspidalSubspace(MF)) + Dimension(EisensteinSubspace(MF));
5
</PRE>
<P>
Next we decompose <TT>M37</TT> with respect to 
the Hecke operators T<sub>2</sub>, T<sub>3</sub>, and T<sub>5</sub>.
<P>
<P>
<PRE>
&gt; D := Decomposition(M37,5); D;
[
     Modular symbols space for Gamma_0(37) of weight 2 and dimension 1
     over Rational Field,
     Modular symbols space for Gamma_0(37) of weight 2 and dimension 2
     over Rational Field,
     Modular symbols space for Gamma_0(37) of weight 2 and dimension 2
     over Rational Field
]
</PRE>
The first factor corresponds to the standard Eisenstein series, and 
the second corresponds to an elliptic curve:
<P>
<P>
<PRE>
&gt; E := EllipticCurve(D[2]); E;
Elliptic Curve defined by y^2 + y = x^3 + x^2 - 23*x - 50 over 
Rational Field
&gt; Rank(E);
0
</PRE>
<P>
We now create the space Mm<sub>12</sub>(1) of weight 12 modular symbols
of level 1.   
<P>
<P>
<PRE>
&gt; M12 := ModularSymbols(1,12); M12;             
Full modular symbols space for Gamma_0(1) of weight 12 and dimension 3
over Rational Field
&gt; Basis(M12);
[
    X^10*{0, oo},
    X^8*Y^2*{0, oo},
    X^9*Y*{0, oo}
]
</PRE>
<P>
<P>
<PRE>
&gt; DimensionCuspFormsGamma0(1,12);
1
&gt; R&lt;z&gt;:=PowerSeriesRing(Rationals());
&gt; Delta(z)+ O(z^7);  
z - 24*z^2 + 252*z^3 - 1472*z^4 + 4830*z^5 - 6048*z^6 + O(z^7)
</PRE>
As a module, cuspidal modular symbols equal 
cuspforms with multiplicity two.
<P>
<P>
<PRE>
&gt; M12 := ModularSymbols(1,12); 
&gt; HeckeOperator(CuspidalSubspace(M12),2); 
[-24   0]
[  0 -24]
&gt;  qExpansionBasis(CuspidalSubspace(M12),7);
[
    q - 24*q^2 + 252*q^3 - 1472*q^4 + 4830*q^5 - 6048*q^6 + O(q^7)
]
</PRE>
For efficiency purposes, since one is often interested only
in q-expansion, it is possible to work in the quotient
of the space of modular symbols by all relations 
*x = x (or *x= - x), where * is <TT>StarInvolution(M)</TT>.  In either
of these quotients (except possibly in characteristic p&gt;0) 
the cusp forms appear with multiplicity one instead of two.
<P>
<P>
<PRE>
&gt; M12plus := ModularSymbols(1,12,+1);
&gt; Basis(M12plus);
[
    X^10*{0, oo},
    X^8*Y^2*{0, oo}
]
&gt; CuspidalSubspace(M12plus);
Modular symbols space for Gamma_0(1) of weight 12 and dimension 1 over
Rational Field
&gt; qExpansionBasis(CuspidalSubspace(M12),7);
[
    q - 24*q^2 + 252*q^3 - 1472*q^4 + 4830*q^5 - 6048*q^6 + O(q^7)
]
</PRE>
<P>
The following is an example of how to create Dirichlet characters in
Magma, and how to create a space of modular symbols with nontrivial
character.  For more details, see Section <A  HREF = "text179.htm#1432">Dirichlet Characters</A>.
<P>
<P>
<PRE>
&gt; G&lt;a,b,c&gt; := DirichletGroup(16*7,CyclotomicField(EulerPhi(16*7)));
&gt; Order(a);
2
&gt; Conductor(a);
4
&gt; Order(b);
4
&gt; Conductor(b);
16
&gt; Order(c);
6
&gt; Conductor(c);
7
&gt; eps := a*b*c;
&gt; M := ModularSymbols(eps,2); M;
Full modular symbols space of level 112, weight 2, character a*b*c,
and dimension 32 over Cyclotomic Field of order 48 and degree 16
&gt; BaseField(M);
Cyclotomic Field of order 48 and degree 16
</PRE>
<HR>
<H4><A NAME = "17748">Labels</A></H4>

<P>
<P>
<P>
It is also possible to create many spaces of modular symbols for
&Gamma;<sub>0</sub>(N) by passing a "descriptive label" as an 
argument to <TT>ModularSymbols</TT>.  
The most specific label is a string of the form 
<TT>[Level]k[Weight][IsogenyClass]</TT>, where <TT>[Level]</TT> 
is the level, <TT>[Weight]</TT> is the weight, 
<TT>[IsogenyClass]</TT> is a letter code:
<TT>A</TT>, <TT>B</TT>, ..., <TT>Z</TT>, <TT>AA</TT>, <TT>BB</TT>, ..., <TT>ZZ</TT>, 
<TT>AAA</TT>, ...,
and <TT>k</TT> is a place holder to separate the level and the weight.
If the label is <TT>[Level][IsogenyClass]</TT>, then the weight k is assumed
equal to 2. If the label is <TT>[Level]k[Weight]</TT> then the cuspidal
subspace of the full ambient space of modular symbols of 
weight k and level N is returned.  
The  following are valid labels:
<TT>11A</TT>, <TT>37B</TT>, <TT>3k12A</TT>, <TT>11k4</TT>.
The ordering used on isogenies classes is <TT>lt</TT>; see the
documentation for <TT>SortDecomposition</TT>.
<P>
<P>
<P>
<B>Note:</B> There is currently no intrinsic that, given a space of
modular symbols, returns its label.
<P>
<P>
<P>
<B>Warning:</B> For 146 of the levels between 56 and 450, our
ordering of weight 2 rational newforms disagrees with the ordering
used in <A  HREF = "text1591.htm#bib_cremona-algs">[Cre97]</A>.
Fortunately, it is easy to create a space of modular symbols from one
of Cremona's labels using the associated elliptic curve.
<P>
<P>
<PRE>
&gt; E  := EllipticCurve(CremonaDatabase(),"56A");
&gt; M1 := ModularSymbols(E);
</PRE>
Observe that Cremona's <TT>"56A"</TT> is different from ours.
<P>
<P>
<PRE>
&gt; M2 := ModularSymbols("56A");
&gt; M2 eq M1;
false
</PRE>


<H5><A NAME = "17749">ModularSymbols(s, sign) : MonStgElt, RngIntElt -&gt; ModSym</A></H5>
<H5>ModularSymbols(s) : MonStgElt -&gt; ModSym</H5>
<BLOCKQUOTE>
The space of modular symbols described by a label, the string s, and given
sign.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "17750">Example <TT>ModSym_Creation-Spaces (H139E3)</TT></A></H3>
The cusp form &Delta;(q) is related to the space
of modular symbols whose label is <TT>"1k12A"</TT>. 
<P>
<P>
<PRE>
&gt; Del := ModularSymbols("1k12A"); Del;
Modular symbols space for Gamma_0(1) of weight 12 and dimension 2 over
Rational Field
&gt; qEigenform(Del,5);
q - 24*q^2 + 252*q^3 - 1472*q^4 + O(q^5)
</PRE>
Next, we create the space corresponding to the first newform on &Gamma;<sub>0</sub>(11) 
of weight 4.
<P>
<P>
<PRE>
&gt; M := ModularSymbols("11k4A"); M;
Modular symbols space for Gamma_0(11) of weight 4 and dimension 4 over
Rational Field
&gt; AmbientSpace(M);
Full modular symbols space for Gamma_0(11) of weight 4 and dimension 6
over Rational Field
&gt; qEigenform(M,5);
q + a*q^2 + (-4*a + 3)*q^3 + (2*a - 6)*q^4 + O(q^5)
&gt; Parent($1);
Power series ring in q over Univariate Quotient Polynomial Algebra in
a over Rational Field with modulus a^2 - 2*a - 2
</PRE>
<P>
We next create the +1 quotient of the cuspidal subspace 
of weight-4 modular symbols of level 37. 
<P>
<P>
<PRE>
&gt; M := ModularSymbols("37k4",+1); M;
Modular symbols space for Gamma_0(37) of weight 4 and dimension 9 over
Rational Field
&gt; AmbientSpace(M);
Full modular symbols space for Gamma_0(37) of weight 4 and dimension
11 over Rational Field
&gt; Factorization(CharacteristicPolynomial(HeckeOperator(M,2)));
[
    &lt;x^4 + 6*x^3 - x^2 - 16*x + 6, 1&gt;,
    &lt;x^5 - 4*x^4 - 21*x^3 + 74*x^2 + 102*x - 296, 1&gt;
]
</PRE>
<HR>
<H4><A NAME = "17751">Creation of Elements</A></H4>

<P>
<P>
<P>
Suppose M is a space of weight k modular symbols over a field F.
A modular symbol P(X, Y){&alpha;, &beta;} is input as <TT>M!&lt;P(X,Y),[alpha,beta]&gt;</TT>, where P(X, Y)&isin;()F[X, Y] is homogeneous of
degree k - 2, and &alpha;, &beta;&isin;P<sup>1</sup>(Q).  
Here is an example:


<P>
<P>
<P>
Any space M of modular symbols is finitely generated.  One proof
of this uses that every modular symbol is a linear combination of
<I>Manin symbols</I>. 
Let P<sup>1</sup>(Z/NZ) be the set of pairs 
(/line(u), /line(v)) &isin;Z/NZ x Z NZ such that 
(GCD)(u, v, N)=1, where u and v are lifts of /line(u) 
and /line(v) to Z.
A Manin symbols &lt; P(X, Y), (/line(u), /line(v)) &gt;
is a pair consisting of a homogeneous polynomial
P(X, Y)&isin;F[X, Y] of degree k - 2 and 
an element (/line(u), /line(v))&isin;P<sup>1</sup>(Z/NZ).
The modular symbol associated to 
&lt; P(X, Y), (/line(u), /line(v)) &gt;
is constructed as follows.  Choose lifts u, v of 
/line(u), /line(v) such that (GCD)(u, v)=1.  
Then there is a matrix g=pmatrix(w&amp;z cr u&amp;v)
in SL<sub>2</sub>(Z) whose lower two entries are u and v.
The modular symbol is then 
g(P(X, Y){0, &infin;}).
The intrinsic <TT>ConvertFromManinSymbol</TT> computes the modular
symbol attached to a Manin symbol.  
Ever modular symbol can be written as a linear combination
of Manin symbols using the intrinsic <TT>ManinSymbol</TT>.
<HR>
<H3><A NAME = "17752">Example <TT>ModSym_Creation-Elements-1 (H139E4)</TT></A></H3>
First create the space M = Mm<sub>4</sub>(&Gamma;<sub>0</sub>(3);F<sub>7</sub>).
<P>
<P>
<PRE>
&gt; F7 := GF(7);
&gt; M := ModularSymbols(3,4,F7);
&gt; R&lt;X,Y&gt; := PolynomialRing(F7,2);
</PRE>
Now we input (X<sup>2</sup> - 2XY){0, 1}. 
<P>
<P>
<PRE>
&gt; M!&lt;X^2-2*X*Y,[Cusps()|0,1]&gt;;
6*Y^2*{oo, 0}
</PRE>
Note  that (X<sup>2</sup> - 2XY){0, 1} = 6Y<sup>2</sup>{&infin;, 0} in M.
<P>
When k=2, simply
enter <TT>M!&lt;1,[alpha,beta]&gt;</TT>. 
<P>
<P>
<PRE>
&gt; M := ModularSymbols(11,2);
&gt; M!&lt;1,[Cusps()|0,Infinity()]&gt;;
-1*{oo, 0}
&gt; M![&lt;1,[Cusps()|0,Infinity()]&gt;, &lt;1,[Cusps()|0,1/11]&gt;];
-2*{oo, 0}
</PRE>
<HR>
<H3><A NAME = "17753">Example <TT>ModSym_RepresentationConversion (H139E5)</TT></A></H3>
In this example, we convert between Manin and modular symbols
representations of a few elements of a space of modular symbols
of weight 4 over F<sub>5</sub>. 
<P>
<P>
<PRE>
&gt; F5 := GF(5);
&gt; M := ModularSymbols(6,4,F5);
&gt; R&lt;X,Y&gt; := PolynomialRing(F5,2);
&gt; ConvertFromManinSymbol(M,&lt;X^2+Y^2,[1,4]&gt;);
(3*X^2 + 3*X*Y + 2*Y^2)*{-1/2, 0} + (X^2 + 4*X*Y + 4*Y^2)*{-1/3, 0} +
(X^2 + X*Y + 4*Y^2)*{1/3, 1/2}
&gt; ManinSymbol(M.1-3*M.2);
[
    &lt;X^2, (0 1)&gt;,
    &lt;2*X^2, (1 2)&gt;
]
</PRE>
Thus the element <TT>M.1-3*M.2</TT> of M 
corresponds to the sum of Manin symbols 
&lt; X<sup>2</sup>, (0, 1) &gt; + 2&lt; X<sup>2</sup>, (1, 2) &gt;.
<HR>
<H5><A NAME = "17754">M ! x : ModSym, . -&gt; ModSymElt</A></H5>
<BLOCKQUOTE>
The coercion of x into the space of modular symbols M.  Here x can be either a modular symbol
that lies in a subspace of M, a 2-tuple that describes a modular
symbol, a sequence of such 2-tuples, or anything that can be coerced
into <TT>VectorSpace(M)</TT>.  If x is a valid sequence of such
2-tuples, then <TT>M!x</TT> is the sum of the coercions into M of
the elements of the sequence x.
</BLOCKQUOTE>
<H5><A NAME = "17755">ConvertFromManinSymbol(M, x) : ModSym, Tup -&gt; ModSymElt</A></H5>
<BLOCKQUOTE>
The modular symbol associated to the 2-tuple x = &lt; P(X, Y), [u, v] &gt;, where P(X, Y) &isin;F[X, Y] is homogeneous of
degree k - 1, F is the base field of the space of modular symbols M, and [u, v] is a sequence
of 2 integers that defines an element of P<sup>1</sup>(Z/NZ), where N
is the level of M.
</BLOCKQUOTE>
<H5><A NAME = "17756">ManinSymbol(x) : ModSymElt -&gt; SeqEnum</A></H5>
<BLOCKQUOTE>
An expression for the modular symbol x in terms of Manin symbols, which
are represented as 2-tuples &lt; P(X, Y), [u, v] &gt;.
</BLOCKQUOTE>
<HR>
<H3><A NAME = "17757">Example <TT>ModSym_Creation-Elements-2 (H139E6)</TT></A></H3>
<P>
<P>
<PRE>
&gt; M := ModularSymbols(14,2); M;
Full modular symbols space for Gamma_0(14) of weight 2 and dimension 5
over Rational Field
&gt; Basis(M);
[
    {oo, 0},
    {-1/8, 0},
    {-1/10, 0},
    {-1/12, 0},
    {-1/2, -3/7}
]
&gt; M!&lt;1,[1,0]&gt;;
0
&gt; M!&lt;1,[0,1/11]&gt;;
{-1/10, 0} + -1*{-1/12, 0}
&gt; M![&lt;1,[0,1/2]&gt;, &lt;-1,[0,1/7]&gt;];              // sequences are added
{-1/8, 0} + -1*{-1/12, 0} + -1*{-1/2, -3/7}
&gt; M!&lt;1,[0,1/2]&gt; - M!&lt;1,[0,1/7]&gt;;
{-1/8, 0} + -1*{-1/12, 0} + -1*{-1/2, -3/7}   
&gt; M!&lt;1,[Cusps()|Infinity(),0]&gt;;               // Infinity() is in Cusps().
{oo, 0}
</PRE>
We can also coerce sequences into the underlying vector space of M.
<P>
<P>
<PRE>
&gt; VectorSpace(M);
Full Vector space of degree 5 over Rational Field 
Mapping from: Full Vector space of degree 5 over Rational Field to
ModSym: M given by a rule [no inverse]
Mapping from: ModSym: M to Full Vector space of degree 5 over Rational
Field given by a rule [no inverse]
&gt; Eltseq(M.3);
[ 0, 0, 1, 0, 0 ]
&gt; M![ 0, 0, 1, 0, 0 ];
{-1/10, 0}
&gt; M.3;
{-1/10, 0}
</PRE>
The "polynomial coefficients" of the modular symbols 
are homogeneous polynomials in 2 variables of degree k - 2.
<P>
<P>
<PRE>
&gt; M := ModularSymbols(1,12);
&gt; Basis(M);
[
    X^10*{0, oo},
    X^8*Y^2*{0, oo},
    X^9*Y*{0, oo}
]
&gt; R&lt;X,Y&gt; := PolynomialRing(Rationals(),2);
&gt; M!&lt;X^9*Y,[Cusps()|0,Infinity()]&gt;;
X^9*Y*{0, oo}
&gt; M!&lt;X^7*Y^3,[Cusps()|0,Infinity()]&gt;;
-25/48*X^9*Y*{0, oo}
&gt; Eltseq(M!&lt;X*Y^9,[1/3,1/2]&gt;);
[ -19171, -58050, -30970 ]
&gt; M![1,2,3];
X^10*{0, oo} + 2*X^8*Y^2*{0, oo} + 3*X^9*Y*{0, oo}
&gt; ManinSymbol(M![1,2,3]);
[
    &lt;X^10, (0 1)&gt;,
    &lt;2*X^8*Y^2, (0 1)&gt;,
    &lt;3*X^9*Y, (0 1)&gt;
]
</PRE>
<HR>
<PRE></PRE> <A  HREF = "text1596.htm">[Next]</A><A  HREF = "text1594.htm">[Prev]</A> <A  HREF = "text1596.htm">[Right]</A> <A  HREF = "text1594.htm">[Left]</A> <A  HREF = "text1592.htm">[Up]</A> <A  HREF = "ind.htm">[Index]</A> <A  HREF = "MAGMA.htm">[Root]</A>
<br><small>Version: V2.22 of <I>
Thu Jun  9 16:37:49 EST 2016
</I></small>
</body></html>